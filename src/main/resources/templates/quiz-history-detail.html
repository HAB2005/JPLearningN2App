<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chi tiết bài làm - JLPT N2 Practice</title>
    <link rel="stylesheet" th:href="@{/css/dashboard.css}">
    <link rel="stylesheet" th:href="@{/css/quiz-practice.css}">
    <script th:replace="~{fragments/header :: header-script}"></script>
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <div th:replace="~{fragments/sidebar :: sidebar}"></div>
        
        <!-- Main Content -->
        <div class="main-content">
            <!-- Header -->
            <div th:replace="~{fragments/header :: header}"></div>
            
            <!-- Detail Content -->
            <div class="content">
                <div class="quiz-practice-container">
                    <!-- Header -->
                    <div class="quiz-practice-header">
                        <button class="btn-back" onclick="goBackToHistory()">← Quay lại</button>
                        <div class="quiz-info">
                            <h2 id="attemptTitle">Xem lại đáp án</h2>
                            <div class="quiz-progress">
                                <span id="currentQuestion">0</span> / <span id="totalQuestions">0</span> câu
                            </div>
                        </div>
                        <div class="header-actions">
                            <div id="attemptScore" class="attempt-score"></div>
                        </div>
                    </div>

                    <!-- Loading State -->
                    <div id="loadingState" class="loading-state">
                        <div class="spinner"></div>
                        <p>Đang tải chi tiết...</p>
                    </div>

                    <!-- Review Content -->
                    <div id="reviewContent" class="review-content-wrapper" style="display: none;">
                        <div class="review-main">
                            <div class="review-question-card">
                                <div class="review-question-text">
                                    <div class="word-display">
                                        <span id="reviewQuestionWord" class="word"></span>
                                    </div>
                                    <p id="reviewQuestionPrompt" class="prompt">Chọn nghĩa đúng:</p>
                                </div>
                            </div>

                            <div id="reviewOptionsContainer" class="review-options-container">
                                <!-- Options will be inserted here -->
                            </div>

                            <div class="review-navigation">
                                <button id="btnPrevious" class="btn-nav" onclick="previousQuestion()" disabled>
                                    ← Câu trước
                                </button>
                                <button id="btnNext" class="btn-nav btn-primary" onclick="nextQuestion()">
                                    Câu tiếp →
                                </button>
                            </div>
                        </div>

                        <!-- Review Navigator Sidebar -->
                        <div class="review-navigator">
                            <div class="navigator-header">
                                <h3>Kết quả chi tiết</h3>
                                <div class="navigator-legend">
                                    <div class="legend-item">
                                        <span class="legend-dot correct"></span>
                                        <span>Đúng</span>
                                    </div>
                                    <div class="legend-item">
                                        <span class="legend-dot wrong"></span>
                                        <span>Sai</span>
                                    </div>
                                    <div class="legend-item">
                                        <span class="legend-dot skipped"></span>
                                        <span>Bỏ qua</span>
                                    </div>
                                    <div class="legend-item">
                                        <span class="legend-dot current"></span>
                                        <span>Hiện tại</span>
                                    </div>
                                </div>
                            </div>
                            <div id="reviewGrid" class="question-grid">
                                <!-- Grid buttons will be inserted here -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script th:src="@{/js/quiz-history-detail.js}"></script>
</body>
</html>
